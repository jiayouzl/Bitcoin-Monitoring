# BTC ä»·æ ¼ç›‘æ§å™¨

<div align="center">

[![BTC Icon](https://img.shields.io/badge/BTC-Bitcoin-orange&logo=bitcoin&logoColor=white)](#)
[![platform](https://img.shields.io/badge/platform-macOS-000000?logo=apple&logoColor=white)](#)
[![macOS](https://img.shields.io/badge/macOS-13.1+-blue&logo=apple)](#)
[![xcode](https://img.shields.io/badge/Xcode-16.2%2B-1575F9?logo=xcode&logoColor=white)](#)
[![swift](https://img.shields.io/badge/Swift-5.7%2B-FA7343?logo=swift&logoColor=white)](#)
[![ui](https://img.shields.io/badge/SwiftUI-%2B%20AppKit-43a047)](#)
[![license](https://img.shields.io/badge/License-GPL%20v3-44CC11)](#license)

</div>

ä¸€æ¬¾ macOS åŸç”Ÿèœå•æ åº”ç”¨ï¼Œç”¨äºå®æ—¶ç›‘æ§ä¸»æµåŠ å¯†è´§å¸çš„ä»·æ ¼ï¼Œæ”¯æŒ BTC/ETH/BNB/SOL/DOGE ç­‰ä¸»æµå¸ç§ï¼Œæ›´æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰å¸ç§ï¼ˆå¦‚ ADAã€SHIBã€MATIC ç­‰ï¼‰ã€‚åŸºäº Swift ç¼–å†™ï¼Œè‡´åŠ›äºæ‰“é€ ä¸€æ¬¾é«˜æ€§èƒ½ã€æç®€é£æ ¼çš„åº”ç”¨APPï¼Œå·²ç»ç¼–è¯‘äº†`Intel`ä¸`Apple Silicon`çš„é€šç”¨åº”ç”¨ï¼Œè¯·è‡³[releases](https://github.com/jiayouzl/Bitcoin-Monitoring/releases/latest)ä¸‹è½½ã€‚

## ğŸ“– å¦‚åœ¨macOSä¸‹æ— æ³•è¿è¡Œï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š
> ç³»ç»Ÿè®¾ç½® â†’ éšç§ä¸å®‰å…¨æ€§ â†’ å®‰å…¨æ€§ â†’ å·²é˜»æ­¢â€œBitcoin Monitoring.appâ€ä»¥ä¿æŠ¤Mac â†’ ä»è¦æ‰“å¼€

## ğŸ“·ï¸ ç•Œé¢é¢„è§ˆ

![](./assets/iShot_2025-11-04_00.30.31.png)

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸš€ æ ¸å¿ƒåŠŸèƒ½
- **å¤šå¸ç§æ”¯æŒ**: æ”¯æŒ BTC/ETH/BNB/SOL/DOGE ä¸»æµè™šæ‹Ÿè´§å¸ä»·æ ¼ç›‘æ§
- **è‡ªå®šä¹‰å¸ç§**: æ”¯æŒç”¨æˆ·æ·»åŠ è‡ªå®šä¹‰å¸ç§ï¼ˆå¦‚ ADAã€SHIBã€MATIC ç­‰ï¼‰ï¼Œæœ€å¤šå¯æ·»åŠ 5ä¸ªè‡ªå®šä¹‰å¸ç§
- **æ™ºèƒ½å›¾æ ‡ç”Ÿæˆ**: ä¸ºè‡ªå®šä¹‰å¸ç§è‡ªåŠ¨ç”ŸæˆåŸºäºé¦–å­—æ¯çš„å½©è‰²å›¾æ ‡ï¼Œç¡®ä¿è§†è§‰ä¸€è‡´æ€§
- **å¸ç§éªŒè¯**: å®æ—¶éªŒè¯è‡ªå®šä¹‰å¸ç§æ ¼å¼ï¼Œæ”¯æŒ3-5ä¸ªå­—ç¬¦çš„å¸ç§ç¬¦å·
- **å®æ—¶ä»·æ ¼æ˜¾ç¤º**: åœ¨èœå•æ å®æ—¶æ˜¾ç¤ºé€‰ä¸­å¸ç§çš„ USDT ä»·æ ¼
- **å¤šç§åˆ·æ–°æœºåˆ¶**: å¯é€‰ 5ã€10ã€30ã€60 ç§’è‡ªåŠ¨è·å–æœ€æ–°ä»·æ ¼æ•°æ®
- **æ™ºèƒ½é”™è¯¯é‡è¯•**: ç½‘ç»œå¼‚å¸¸æ—¶è‡ªåŠ¨é‡è¯•ï¼Œæœ€å¤š 3 æ¬¡
- **æ‰‹åŠ¨åˆ·æ–°**: æ”¯æŒå¿«æ·é”® `Cmd+R` æ‰‹åŠ¨åˆ·æ–°ä»·æ ¼
- **çŠ¶æ€æŒ‡ç¤º**: ç›´è§‚æ˜¾ç¤ºåŠ è½½ã€æ›´æ–°ã€é”™è¯¯çŠ¶æ€
- **ä»·æ ¼å¤åˆ¶åŠŸèƒ½**: æ”¯æŒä¸€é”®å¤åˆ¶å½“å‰ä»·æ ¼åˆ°å‰ªè´´æ¿
- **é…ç½®æŒä¹…åŒ–**: ç”¨æˆ·è®¾ç½®è‡ªåŠ¨ä¿å­˜ï¼Œé‡å¯åä¿æŒé…ç½®
- **å¼€æœºè‡ªå¯åŠ¨**: å¯é€‰æ˜¯å¦å¼€æœºè‡ªåŠ¨å¯åŠ¨APP

### ğŸ¨ ç”¨æˆ·ä½“éªŒ
- **ä¸­æ–‡ç•Œé¢**: å®Œæ•´çš„ä¸­æ–‡ç”¨æˆ·ç•Œé¢
- **è‡ªå®šä¹‰å¸ç§ç®¡ç†**: ç›´è§‚çš„å¸ç§æ·»åŠ ã€åˆ é™¤å’Œåˆ‡æ¢ç•Œé¢
- **æ™ºèƒ½å›¾æ ‡ç³»ç»Ÿ**: è‡ªåŠ¨ç”Ÿæˆçš„å½©è‰²å¸ç§å›¾æ ‡ï¼Œæä¾›è§†è§‰ä¸€è‡´æ€§
- **ä¼˜é›…åŠ¨ç”»**: æµç•…çš„çŠ¶æ€åˆ‡æ¢åŠ¨ç”»
- **è½»é‡çº§è®¾è®¡**: æœ€å°åŒ–ç³»ç»Ÿèµ„æºå ç”¨
- **åå°è¿è¡Œ**: ä¸å ç”¨ Dock ç©ºé—´ï¼Œä¸“æ³¨èœå•æ 
- **SF Symbols å›¾æ ‡**: ä½¿ç”¨åŸç”Ÿ macOS å›¾æ ‡ç³»ç»Ÿ
- **ç°ä»£åŒ–åå¥½è®¾ç½®**: é‡‡ç”¨ macOS åŸç”Ÿé£æ ¼çš„åå¥½è®¾ç½®ç•Œé¢
- **ç²¾ç¾å¼€å…³æ§ä»¶**: ä½¿ç”¨ macOS ç³»ç»Ÿé£æ ¼çš„æ¤­åœ†å½¢ Switch æ§ä»¶
- **å“åº”å¼å¸ƒå±€**: æ™ºèƒ½é€‚é…ä¸åŒçª—å£å°ºå¯¸å’Œæ˜¾ç¤ºè®¾ç½®

### ğŸ›¡ï¸ å¯é æ€§
- **ç½‘ç»œå®¹é”™**: å®Œå–„çš„ç½‘ç»œå¼‚å¸¸å¤„ç†æœºåˆ¶
- **å†…å­˜ç®¡ç†**: é¿å…å¾ªç¯å¼•ç”¨ï¼ŒåŠæ—¶é‡Šæ”¾èµ„æº
- **çº¿ç¨‹å®‰å…¨**: UI æ›´æ–°ç¡®ä¿åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œ
- **é”™è¯¯æ¢å¤**: è‡ªåŠ¨ä»ä¸´æ—¶ç½‘ç»œæ•…éšœä¸­æ¢å¤

## ğŸ“‹ å®‰è£…è¦æ±‚

### ç³»ç»Ÿè¦æ±‚
- **æ“ä½œç³»ç»Ÿ**: macOS 13.1 æˆ–æ›´é«˜ç‰ˆæœ¬
- **æ¶æ„æ”¯æŒ**: Intel å’Œ Apple Silicon (M1/M2/M3/M4/M5)

### å¼€å‘ç¯å¢ƒ
- **å¼€å‘å·¥å…·**: Xcode 16.2 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Swift ç‰ˆæœ¬**: Swift 5.0
- **éƒ¨ç½²ç›®æ ‡**: macOS 13.1

### ç½‘ç»œè¦æ±‚
- éœ€è¦ç¨³å®šçš„äº’è”ç½‘è¿æ¥
- è®¿é—®å¸å®‰ API (`https://api.binance.com`) çš„ç½‘ç»œæƒé™

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç›´æ¥è¿è¡Œ

1. **å…‹éš†é¡¹ç›®**
   ```bash
   git clone https://github.com/jiayouzl/Bitcoin-Monitoring.git
   cd Bitcoin-Monitoring
   ```

2. **åœ¨ Xcode ä¸­æ‰“å¼€**
   ```bash
   open "Bitcoin Monitoring.xcodeproj"
   ```

3. **è¿è¡Œåº”ç”¨**
   - åœ¨ Xcode ä¸­é€‰æ‹© "Bitcoin Monitoring" scheme
   - ç‚¹å‡»è¿è¡ŒæŒ‰é’®æˆ–ä½¿ç”¨å¿«æ·é”®ï¼š `Cmd+R`

### æ„å»ºå‘½ä»¤

```bash
# æ„å»ºé¡¹ç›®
xcodebuild -project "Bitcoin Monitoring.xcodeproj" -scheme "Bitcoin Monitoring" -configuration Debug build

# å½’æ¡£åº”ç”¨
xcodebuild -project "Bitcoin Monitoring.xcodeproj" -scheme "Bitcoin Monitoring" -configuration Release archive

# æ¸…ç†æ„å»ºç¼“å­˜
xcodebuild -project "Bitcoin Monitoring.xcodeproj" -scheme "Bitcoin Monitoring" clean
```

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### è®¾è®¡æ¨¡å¼

- **MVVM æ¶æ„**: SwiftUI + ObservableObject æ¨¡å¼
- **Combine æ¡†æ¶**: å“åº”å¼æ•°æ®æµå’Œäº‹ä»¶å¤„ç†
- **ä¾èµ–æ³¨å…¥**: æœåŠ¡å±‚åˆ†ç¦»å’Œæ¾è€¦åˆè®¾è®¡
- **è§‚å¯Ÿè€…æ¨¡å¼**: ä»·æ ¼å˜åŒ–çš„å“åº”å¼æ›´æ–°
- **ç­–ç•¥æ¨¡å¼**: å¯é…ç½®çš„åˆ·æ–°é—´éš”é€‰é¡¹
- **åè®®ç»Ÿä¸€**: `CryptoRepresentable` åè®®ç»Ÿä¸€é»˜è®¤å’Œè‡ªå®šä¹‰å¸ç§æ¥å£
- **å·¥å‚æ¨¡å¼**: `CryptoIconGenerator` è‡ªåŠ¨ç”Ÿæˆå¸ç§å›¾æ ‡

### UI ç»„ä»¶æ¶æ„

- **ç°ä»£åŒ–ç•Œé¢è®¾è®¡**: é‡‡ç”¨ macOS åŸç”Ÿè®¾è®¡è¯­è¨€
- **Switch æ§ä»¶**: ä½¿ç”¨ `.toggleStyle(.switch)` å’Œ `.controlSize(.mini)` å®ç°ç²¾ç¾å¼€å…³
- **å“åº”å¼å¸ƒå±€**: HStack + VStack å®ç°çµæ´»çš„ç•Œé¢å¸ƒå±€
- **åˆ†ç»„è§†å›¾**: è‡ªå®šä¹‰ `SettingsGroupView` ç»„ä»¶å®ç°åŠŸèƒ½åˆ†ç»„
- **é…ç½®ç®¡ç†**: `AppSettings` ç±»ç»Ÿä¸€ç®¡ç†ç”¨æˆ·åå¥½è®¾ç½®
- **è‡ªå®šä¹‰å¸ç§ç»„ä»¶**: ä¸“é—¨çš„å¸ç§ç®¡ç†ç•Œé¢ï¼Œæ”¯æŒæ·»åŠ ã€åˆ é™¤å’Œåˆ‡æ¢è‡ªå®šä¹‰å¸ç§
- **å›¾æ ‡ç¼“å­˜ç³»ç»Ÿ**: `CryptoIconGenerator` å®ç°å›¾æ ‡ç”Ÿæˆå’Œç¼“å­˜æœºåˆ¶ï¼Œé¿å…é‡å¤ç”Ÿæˆ

### å¹¶å‘å¤„ç†

```swift
// ä¸»çº¿ç¨‹ UI æ›´æ–°
@MainActor
class BTCMenuBarApp: ObservableObject

// å¼‚æ­¥ç½‘ç»œè¯·æ±‚
func fetchPrice() async throws -> Double

// Combine å“åº”å¼æµ
priceManager.$currentPrice
    .receive(on: DispatchQueue.main)
    .sink { [weak self] price in
        self?.updateMenuBarTitle(price: price)
    }
```

## ğŸ”§ API é›†æˆ

### å¸å®‰ API ç«¯ç‚¹
åº”ç”¨ä½¿ç”¨å¸å®‰å…¬å¼€ API è·å–ä»·æ ¼æ•°æ®ï¼š
```
GET https://api.binance.com/api/v3/ticker/price?symbol={SYMBOL}
```

### æ”¯æŒçš„äº¤æ˜“å¯¹
- **é»˜è®¤å¸ç§**: BTC/USDT, ETH/USDT, BNB/USDT, SOL/USDT, DOGE/USDT
- **è‡ªå®šä¹‰å¸ç§**: æ”¯æŒç”¨æˆ·æ·»åŠ 3-5ä¸ªå­—ç¬¦çš„ä»»æ„å¸ç§ï¼ˆå¦‚ADAã€SHIBã€MATICç­‰ï¼‰
- **å¸ç§éªŒè¯**: è‡ªå®šä¹‰å¸ç§é€šè¿‡ `CustomCryptoSymbol.validateSymbol()` è¿›è¡Œæ ¼å¼éªŒè¯
- **å›¾æ ‡ç”Ÿæˆ**: ä½¿ç”¨ `CryptoIconGenerator` ä¸ºè‡ªå®šä¹‰å¸ç§ç”ŸæˆåŸºäºé¦–å­—æ¯çš„å½©è‰²å›¾æ ‡

### é”™è¯¯å¤„ç†
- **è‡ªåŠ¨é‡è¯•æœºåˆ¶**: æœ€å¤š3æ¬¡é‡è¯•ï¼Œé€’å¢å»¶è¿Ÿï¼ˆ1ç§’ã€2ç§’ã€4ç§’ï¼‰
- **ç½‘ç»œå¼‚å¸¸å¤„ç†**: ç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤ºå’ŒçŠ¶æ€æ˜¾ç¤º
- **ä»£ç†é…ç½®æ”¯æŒ**: å®Œæ•´çš„ HTTP/HTTPS ä»£ç†é…ç½®å’Œè¿æ¥æµ‹è¯•

## âš™ï¸ é…ç½®ç®¡ç†

### UserDefaults é”®å€¼
- `BTCRefreshInterval`: åˆ·æ–°é—´éš”è®¾ç½®
- `SelectedCryptoSymbol`: é€‰ä¸­çš„é»˜è®¤å¸ç§
- `LaunchAtLogin`: å¼€æœºè‡ªå¯åŠ¨
- `CustomCryptoSymbols`: è‡ªå®šä¹‰å¸ç§åˆ—è¡¨ (JSONæ•°ç»„)
- `SelectedCustomSymbolIndex`: å½“å‰é€‰ä¸­çš„è‡ªå®šä¹‰å¸ç§ç´¢å¼•
- `UseCustomSymbol`: æ˜¯å¦ä½¿ç”¨è‡ªå®šä¹‰å¸ç§
- `ProxyEnabled/ProxyHost/ProxyPort/ProxyUsername/ProxyPassword`: ä»£ç†è®¾ç½®ï¼ˆåŒ…æ‹¬è®¤è¯ï¼‰

### é…ç½®æŒä¹…åŒ–
æ‰€æœ‰ç”¨æˆ·è®¾ç½®é€šè¿‡ `AppSettings` ç±»çš„ `@Published` å±æ€§è‡ªåŠ¨ä¿å­˜åˆ° UserDefaultsï¼Œåº”ç”¨é‡å¯åä¿æŒé…ç½®ã€‚ä½¿ç”¨ Combine æ¡†æ¶å®ç°é…ç½®å˜åŒ–çš„å®æ—¶å“åº”ã€‚

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. åº”ç”¨æ— æ³•å¯åŠ¨

**é—®é¢˜**: åŒå‡»åº”ç”¨å›¾æ ‡æ— ååº”
**è§£å†³æ–¹æ¡ˆ**:
```bash
# æŒ‡å®šè¯¥å‘½ä»¤ä»¥å¯åŠ¨APP
sudo xattr -d com.apple.quarantine "/Applications/Bitcoin Monitoring.app"

# æˆ–è€…åœ¨ç³»ç»Ÿåå¥½è®¾ç½®ä¸­å…è®¸åº”ç”¨è¿è¡Œ
ç³»ç»Ÿè®¾ç½® â†’ éšç§ä¸å®‰å…¨æ€§ â†’ å®‰å…¨æ€§ â†’ å·²é˜»æ­¢â€œBitcoin Monitoring.appâ€ä»¥ä¿æŠ¤Mac â†’ ä»è¦æ‰“å¼€
```

#### 2. ç½‘ç»œè¿æ¥å¤±è´¥

**é—®é¢˜**: æ˜¾ç¤º"é”™è¯¯"çŠ¶æ€ï¼Œæ— æ³•è·å–ä»·æ ¼
**è¯Šæ–­æ­¥éª¤**:

1. æ£€æŸ¥ç½‘ç»œè¿æ¥
```bash
ping api.binance.com
```

2. éªŒè¯ API å¯ç”¨æ€§
```bash
# æµ‹è¯•åŒå¸ç§ API çš„å¯ç”¨æ€§
curl "https://api.binance.com/api/v3/ticker/price?symbol=BTCUSDT"
```

3. æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
```bash
# ç¡®ä¿å…è®¸å‡ºç«™ HTTPS è¿æ¥
```

## ğŸ” è°ƒè¯•æŠ€å·§

### ç½‘ç»œè°ƒè¯•
```bash
# æµ‹è¯•å¸å®‰ API è¿é€šæ€§
curl "https://api.binance.com/api/v3/ticker/price?symbol=BTCUSDT"

# ä½¿ç”¨ä»£ç†æµ‹è¯•è¿æ¥
curl --proxy http://proxy-server:port "https://api.binance.com/api/v3/ticker/price?symbol=BTCUSDT"
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼è¯·é˜…è¯»ä»¥ä¸‹æŒ‡å—ï¼š

### è´¡çŒ®æ–¹å¼

1. **æŠ¥å‘Š Bug**: åœ¨ Issues ä¸­æäº¤è¯¦ç»†çš„ Bug æŠ¥å‘Š
2. **åŠŸèƒ½å»ºè®®**: æå‡ºæ–°åŠŸèƒ½çš„æƒ³æ³•å’Œå»ºè®®
3. **ä»£ç è´¡çŒ®**: æäº¤ Pull Request æ”¹è¿›ä»£ç 
4. **æ–‡æ¡£å®Œå–„**: æ”¹è¿› README å’Œä»£ç æ³¨é‡Š

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ **GNU General Public License v3.0** è®¸å¯è¯ã€‚

### å®Œæ•´è®¸å¯è¯æ–‡æœ¬

è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ‘¨â€ğŸ’» ä½œè€…

**Mark**

- **GitHub**: [@jiayouzl](https://github.com/jiayouzl/)
- **é¡¹ç›®ä¸»é¡µ**: [https://github.com/jiayouzl/Bitcoin-Monitoring](https://github.com/jiayouzl/Bitcoin-Monitoring)

## â­ Star History

[![Star History Chart](https://api.star-history.com/svg?repos=jiayouzl/Bitcoin-Monitoring&type=date&legend=top-left)](https://www.star-history.com/#jiayouzl/Bitcoin-Monitoring&type=date&legend=top-left)

---
